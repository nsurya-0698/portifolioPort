"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),n=require("@react-pdf-viewer/core");function t(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var l=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,l.get?l:{enumerable:!0,get:function(){return e[t]}})}})),n.default=e,Object.freeze(n)}var l,r=t(e),c=function(){return c=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},c.apply(this,arguments)},u=function(){return r.createElement(n.Icon,{size:16},r.createElement("path",{d:"M0.5 12L23.5 12"}),r.createElement("path",{d:"M11.5 1L11.5 23"}),r.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),r.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),r.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),r.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},o={left:0,top:8},i=function(e){var t=e.enableShortcuts,l=e.onClick,c=r.useContext(n.LocalizationContext).l10n,i=c&&c.fullScreen?c.fullScreen.enterFullScreen:"Full screen",a=t?n.isMac()?"Meta+Ctrl+F":"F11":"";return r.createElement(n.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:n.Position.BottomCenter,target:r.createElement(n.MinimalButton,{ariaKeyShortcuts:a,ariaLabel:i,testId:"full-screen__enter-button",onClick:l},r.createElement(u,null)),content:function(){return i},offset:o})},a=function(){return r.createElement(n.Icon,{size:16},r.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),r.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),r.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),r.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),r.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},s={left:0,top:8},f=function(e){var t=e.onClick,l=r.useContext(n.LocalizationContext).l10n,c=l&&l.fullScreen?l.fullScreen.exitFullScreen:"Exit full screen";return r.createElement(n.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:n.Position.BottomCenter,target:r.createElement(n.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:c,testId:"full-screen__exit-button-with-tooltip",onClick:t},r.createElement(a,null)),content:function(){return c},offset:s})};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */!function(e){e[e.ExitFullScreen=0]="ExitFullScreen",e[e.FullScreenChange=1]="FullScreenChange",e[e.FullScreenElement=2]="FullScreenElement",e[e.FullScreenEnabled=3]="FullScreenEnabled",e[e.RequestFullScreen=4]="RequestFullScreen"}(l||(l={}));var S={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},E={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},F={ExitFullScreen:"msExitFullscreen",FullScreenChange:"MSFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},m="undefined"!=typeof window,d=m&&(l.FullScreenEnabled in document&&S||E.FullScreenEnabled in document&&E||F.FullScreenEnabled in document&&F)||S,b=function(e){return m?e[d.ExitFullScreen]():Promise.resolve({})},g=function(){return m?document[d.FullScreenElement]:null},x=function(e,n,t,l){var c=r.useState(!1),u=c[0],o=c[1],i=r.useRef(n.get("getPagesContainer")?n.get("getPagesContainer")():null),a=function(){var r=g()===e(i.current);n.update("isFullScreen",r);var c=n.get("zoom");c&&(r?t(c):l(c))},s=function(e){var n;i.current=e(),n=a,m&&document.addEventListener(d.FullScreenChange,n)},f=function(e){o(e)};return r.useEffect((function(){return n.subscribe("isFullScreen",f),n.subscribe("getPagesContainer",s),function(){n.unsubscribe("getPagesContainer",s),n.unsubscribe("isFullScreen",f)}}),[]),{enterFullScreen:function(){var n=i.current;n&&function(){var n=i.current;if(!n)return Promise.resolve();var t=g();return t&&t!==e(n)?b(t):Promise.resolve()}().then((function(){var t;t=e(n),m&&t[d.RequestFullScreen]()}))},exitFullScreen:function(){o(!1);var t=n.get("getPagesContainer");if(t){var l=t();if(l){var r=g();r&&r===e(l)&&b(document)}}},isFullScreen:u}},v=function(e){var n=e.children,t=e.enableShortcuts,l=e.getFullScreenTarget,c=e.store,u=e.onEnterFullScreen,o=e.onExitFullScreen,a=x(l,c,u,o),s=a.enterFullScreen,S=a.exitFullScreen,E=a.isFullScreen;return(n||function(e){return E?r.createElement(f,{onClick:e.onClick}):r.createElement(i,{enableShortcuts:t,onClick:e.onClick})})({onClick:E?S:s})},C=function(e){var t=e.onClick,l=r.useContext(n.LocalizationContext).l10n,c=r.useContext(n.ThemeContext).direction===n.TextDirection.RightToLeft,u=l&&l.fullScreen?l.fullScreen.exitFullScreen:"Exit full screen";return r.createElement("div",{className:n.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!c,"rpv-full-screen__exit-button--rtl":c})},r.createElement("div",{className:"rpv-full-screen__exit-button-content"},r.createElement(n.MinimalButton,{ariaLabel:u,testId:"full-screen__exit-button",onClick:t},r.createElement(a,null))))},h=function(e){var n=e.children,t=e.getFullScreenTarget,l=e.store,c=e.onEnterFullScreen,u=e.onExitFullScreen,o=x(t,l,c,u),i=o.enterFullScreen,a=o.exitFullScreen,s=o.isFullScreen;return s&&(n||function(e){return r.createElement(C,{onClick:e.onClick})})({onClick:s?a:i})},p=function(e){var t=e.onClick,l=r.useContext(n.LocalizationContext).l10n,c=l&&l.fullScreen?l.fullScreen.enterFullScreen:"Full screen";return r.createElement(n.MenuItem,{icon:r.createElement(u,null),testId:"full-screen__enter-menu",onClick:t},c)},k=function(e){var t=e.containerRef,l=e.getFullScreenTarget,c=e.store,u=e.onEnterFullScreen,o=e.onExitFullScreen,i=x(l,c,u,o).enterFullScreen,a=function(e){if(!e.shiftKey&&!e.altKey&&(n.isMac()?e.metaKey&&e.ctrlKey&&"f"===e.key:"F11"===e.key)){var l=t.current;l&&document.activeElement&&l.contains(document.activeElement)&&(e.preventDefault(),i())}};return r.useEffect((function(){if(t.current)return document.addEventListener("keydown",a),function(){document.removeEventListener("keydown",a)}}),[t.current]),r.createElement(r.Fragment,null)};exports.ExitFullScreenIcon=a,exports.FullScreenIcon=u,exports.fullScreenPlugin=function(e){var t=(null==e?void 0:e.getFullScreenTarget)||function(e){return e},l=r.useMemo((function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},e)}),[]),u=r.useMemo((function(){return n.createStore({})}),[]),o=function(e){return r.createElement(v,c({},e,{enableShortcuts:l.enableShortcuts,getFullScreenTarget:t,store:u,onEnterFullScreen:l.onEnterFullScreen,onExitFullScreen:l.onExitFullScreen}))},a=function(){return r.createElement(h,{getFullScreenTarget:t,store:u,onEnterFullScreen:l.onEnterFullScreen,onExitFullScreen:l.onExitFullScreen},null==e?void 0:e.renderExitFullScreenButton)};return{install:function(e){u.update("getPagesContainer",e.getPagesContainer),u.update("zoom",e.zoom)},renderViewer:function(e){var n=e.slot;return n.subSlot&&(n.subSlot.children=r.createElement(r.Fragment,null,l.enableShortcuts&&r.createElement(k,{containerRef:e.containerRef,getFullScreenTarget:t,store:u,onEnterFullScreen:l.onEnterFullScreen,onExitFullScreen:l.onExitFullScreen}),r.createElement(a,null),n.subSlot.children)),n},EnterFullScreen:o,EnterFullScreenButton:function(){return r.createElement(o,null,(function(e){return r.createElement(i,c({enableShortcuts:l.enableShortcuts},e))}))},EnterFullScreenMenuItem:function(e){return r.createElement(o,null,(function(n){return r.createElement(p,{onClick:function(){n.onClick(),e.onClick()}})}))}}};
